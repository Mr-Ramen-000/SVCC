import studentLedger from"./studentLedger.js";import reportCard from"./reportCard.js";import enrolledSubject from"./enrolledSubject.js";function getCookie(e){const t=document.cookie.split(";");for(let n=0;n<t.length;n++){const i=t[n].trim();if(i.startsWith(e+"="))return decodeURIComponent(i.substring(e.length+1))}return null}function setCookie(e,t,n=1800){document.cookie=`${e} = ${JSON.stringify(t)}; max-age= ${n}; path=/`}function deleteCookie(){setCookie("cuser",null,0)}let user=JSON.parse(getCookie("cuser"));function checkCookie(){return getCookie("cuser")?(setCookie("cuser",{username:user.username,password:user.password,access:user.access}),!0):(location.replace("./index.html"),!1)}if(setInterval((function(){checkCookie()}),900),checkCookie()&&!0===autentication(user.username,user.password,user.access)){$("body").prepend(side_navigation),$(".side-navigation").after(show_page);let e,t=$(".page-content"),n=sessionStorage.getItem("page"),i=$("nav"),o=$("#page_title"),s=!1,r=!1;function smallScreen(){e=[["Student Ledger",studentLedger.studentLedgerSScreen,"#student_ledger"],["Report Card",reportCard.reportCardSScreen,"#report_card"],["Enrolled Subject",enrolledSubject.enrolledSScreen,"#enrolled_subject"],["Enrollment/Advising",'<div class="content-not-ready">\n        <h1>Sorry, this page isn\'t available.</h1>\n    </div>',"#enrollment"]]}function bigScreen(){e=[["Student Ledger",studentLedger.studentLedgerBScreen,"#student_ledger"],["Report Card",reportCard.reportCardBScreen,"#report_card"],["Enrolled Subject",enrolledSubject.enrolledBScreen,"#enrolled_subject"],["Enrollment/Advising",'<div class="content-not-ready">\n        <h1>Sorry, this page isn\'t available.</h1>\n    </div>',"#enrollment"]]}function setState(e){sessionStorage.setItem("page",e)}function getState(){n=sessionStorage.getItem("page"),e.forEach((function(e){e[0]===n&&current_page(i,o,e,t)}))}function navHideOnClick(){$(document).bind("click",(function(e){$(e.target).closest(".side-navigation").length||$(e.target).closest("#menu").length||$(e.target).closest(".popup-message").length||$(".side-navigation").is(":visible")&&$(".side-navigation").toggle(),$(e.target).closest(".sub-wrap").length||$(e.target).closest("#profile-icon").length||$(e.target).closest(".popup-message").length||$(".sub-wrap").is(":visible")&&$(".sub-wrap").toggle()}))}$(window).resize((function(){$(window).width()>1024&&!s?(r=!1,s=!0,bigScreen(),getState()):$(window).width()<=1024&&!r&&(s=!1,r=!0,smallScreen(),getState())})),$(window).width()>1024&&!s?(r=!1,s=!0,bigScreen()):$(window).width()<=1024&&!r&&(s=!1,r=!0,smallScreen()),$(document).ready((function(){n||setState(e[0][0]),getState();let i=$("#page_title");$("nav button").each((function(){let e=$(this);e.click((function(){"student_ledger"===e.val()?e.hasClass("active")||(t.scrollTop(0),i.text("Student Ledger"),setState(i.text()),getState(),a&&$(".side-navigation").toggle()):"report_card"===e.val()?e.hasClass("active")||(t.scrollTop(0),i.text("Report Card"),setState(i.text()),getState(),a&&$(".side-navigation").toggle()):"enrolled_subject"===e.val()?e.hasClass("active")||(t.scrollTop(0),i.text("Enrolled Subject"),setState(i.text()),getState(),a&&$(".side-navigation").toggle()):"enrollment"===e.val()&&(e.hasClass("active")||(t.scrollTop(0),i.text("Enrollment/Advising"),setState(i.text()),getState(),a&&$(".side-navigation").toggle()))}))})),$("#menu").click((function(){$(".side-navigation").toggle()})),$("#close-menu").click((function(){$(".side-navigation").toggle()})),$("#profile-icon").click((function(){$(".sub-wrap").toggle()})),$("#close-sub-profile").click((function(){$(".sub-wrap").toggle()})),$(".change-profile").click((function(){$("body").prepend(popup_message("Invalid to Perform","You can't change the profile picture of this account.")),$("#ok").click((function(){$(".popup-message").remove()}))})),$("#change-pass").click((function(){$("body").prepend(popup_message("Invalid to Perform","You can't change the password of this account.")),$("#ok").click((function(){$(".popup-message").remove()}))})),$("#logout").click((function(){sessionStorage.clear(),deleteCookie(),location.replace("../index.html")}))}));let a=!1,l=!1;$(window).width()<=1199?a||(l=!1,a=!0,$(document).unbind("click"),navHideOnClick()):$(window).width()>=1200&&(l||(a=!1,l=!0,$(document).unbind("click"),$(document).bind("click",(function(e){$(e.target).closest(".sub-wrap").length||$(e.target).closest("#profile-icon").length||$(e.target).closest(".popup-message").length||$(".sub-wrap").is(":visible")&&$(".sub-wrap").toggle()})))),$(window).resize((function(){$(window).width()<=1199?a||(l=!1,a=!0,$(document).unbind("click"),navHideOnClick()):$(window).width()>=1200&&(l||(a=!1,l=!0,$(document).unbind("click"),$(document).bind("click",(function(e){$(e.target).closest(".sub-wrap").length||$(e.target).closest("#profile-icon").length||$(e.target).closest(".popup-message").length||$(".sub-wrap").is(":visible")&&$(".sub-wrap").toggle()}))))}))}else deleteCookie(),location.replace("./index.html");function autentication(e,t,n){if(""===e&&""===t)return"error1";if(""===e)return"error2";if(""===t)return"error3";if("user"===e&&"user"===t&&"student"===n){let n={access:"student",username:e,password:t};return document.cookie=`cuser = ${JSON.stringify(n)}; max-age= 1800; path=/`,!0}return!1}function popup_message(e,t){return`\n    <div class="popup-message">\n        <div class="content">\n            <div class="title">\n                <h3>${e}</h3>\n            </div>\n            <div class="message">\n                <p>${t}</p>\n            </div>\n            <button id="ok" type="button">Ok</button>\n        </div>\n    </div>\n    `}function side_navigation(){return'\n<div class="side-navigation">\n<div class="blur-bg">\n  <i id="close-menu" class="fa-solid fa-xmark"></i>\n  <div class="wrapper">\n    <div class="logo-section">\n      <img src="./images/svcc_logo.png" alt="SVCC Logo" />\n      <h2>St.Vincent College of Cabuyao</h2>\n    </div>\n    <nav>\n      <hr />\n      <button class="active" id="student_ledger" value="student_ledger">Student Ledger</button>\n      <hr />\n      <button id="report_card" value="report_card">Report Card</button>\n      <hr />\n      <button id="enrolled_subject" value="enrolled_subject">Enrolled Subject</button>\n      <hr />\n      <button id="enrollment" value="enrollment">Enrollment/Advising</button>\n      <hr />\n    </nav>\n  </div>\n</div>\n</div>\n'}function show_page(){return'\n  <div class="current-page">\n    <div class="page-header">\n      <header>\n          <div class="left-group">\n            <i id="menu" class="fa-solid fa-bars"></i>\n            <h1 id="page_title">Student Ledger</h1>\n          </div>\n          <div class="account">\n            <div class="account-name">\n              <h4>AY2022-03061</h4>\n              <h4>Jayag, Mark Edison</h4>\n            </div>\n            <img\n              id="profile-icon"\n              src="./images/blank-profile-picture.png"\n              alt="Blank Profile Picture"\n            />\n          </div>\n      </header>\n    </div>\n    <div class="sub-wrap">\n              <div class="sub-prof">\n                <i id="close-sub-profile" class="fa-solid fa-xmark"></i>\n                <div class="change-profile">\n                <img\n                  id="img-sub"\n                  src="../../images/blank-profile-picture.png"\n                  alt="Blank Profile Picture"\n                />\n                <div class="camera-icon">\n                <i class="fa-solid fa-camera" style="color: #e6e6e6; font-size:24px;"></i>\n                </div>\n                </div>\n                <h4>Jayag, Mark Edison</h4>\n                <hr>\n                <button id="change-pass">Change password</button>\n                <hr>\n                <button id="logout">Logout</button>\n                <hr>\n              </div>\n            </div>\n    <div class="page-content">\n  </div>\n    '}function current_page(e,t,n,i){t.text(n[0]),"Enrollment/Advising"===n[0]?i.html(n[1]):n[1](),e.find(".active").removeAttr("class"),e.find(n[2]).addClass("active")}